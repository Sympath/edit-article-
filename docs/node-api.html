<!DOCTYPE html><html><head><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta charset="utf-8"><title># Functions - Documents</title><meta name="description" content=""><meta name="author" content=""><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1"><link rel="stylesheet" href="assets/css/bulma.min.css"><link rel="stylesheet" href="assets/css/app.css"><!--[if lt IE 9]>
<script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]--><link rel="shortcut icon" href=""></head><body dir="ltr"><nav class="columns navbar"><div class="column logo is-3 is-offset-1"><a class="is-brand" href="index.html">Documents</a></div></nav><div class="columns content"><div class="column is-2-desktop is-3-widescreen is-hidden-touch"></div><div class="column article-container is-11-tablet is-8-desktop is-6-widescreen"><div class="breadcrumb-area"><a href="index.html" class="breadcrumb-item">Home</a><span class="breadcrumb-delimiter"> &gt; </span><a href="node-api.html" class="breadcrumb-item">node-api.md</a></div><h1 class="article-title"># Functions</h1><div class="article"><dl><dt><a href="#fileIsExist">fileIsExist(filePath)</a> ⇒</dt><dd><p>判断文件是否存在</p></dd><dt><a href="#writeFileRecursive">writeFileRecursive(path, buffer)</a></dt><dd><p>写入文件</p></dd><dt><a href="#runCommand">runCommand(command, args)</a> ⇒ <code>Promise.&lt;void&gt;</code></dt><dd></dd><dt><a href="#getFileExportObjInDir">getFileExportObjInDir(dirPath, suffix, opts：方法本身的配置对象)</a></dt><dd><p>获取指定目录下所有文件的导出信息</p></dd><dt><a href="#loadPathByName">loadPathByName(dirPath, names)</a></dt><dd><p>加载指定文件夹下指定后缀的文件路径列表 （不给exts参数时则获取所有类型文件）</p></dd><dt><a href="#loadFileNameByPath4Ext">loadFileNameByPath4Ext(dirPath, exts, cb)</a> ⇒</dt><dd><p>加载指定文件夹下指定后缀的文件路径列表 （不给exts参数时则获取所有类型文件）</p></dd><dt><a href="#doShellCmd">doShellCmd()</a> ⇒</dt><dd><p>对exec进行一个简单的封装，返回的是一个Promise对象，便于处理。</p></dd><dt><a href="#getPlatForm">getPlatForm()</a> ⇒</dt><dd><p>获取当前操作系统</p></dd><dt><a href="#getPackageManageByCommand">getPackageManageByCommand(command)</a></dt><dd><p>根据命令获取对应的包管理器</p></dd></dl><p><a name="fileIsExist"></a></p><h2 id="fileisexistfilepath-">fileIsExist(filePath) ⇒ <a class="markdownIt-Anchor" href="#fileisexistfilepath-">#</a></h2><p>判断文件是否存在</p><p><strong>Kind</strong>: global function<br><strong>Returns</strong>: Boolean</p><table><thead><tr><th>Param</th><th>Type</th></tr></thead><tbody><tr><td>filePath</td><td><code>*</code></td></tr></tbody></table><p><a name="writeFileRecursive"></a></p><h2 id="writefilerecursivepath-buffer">writeFileRecursive(path, buffer) <a class="markdownIt-Anchor" href="#writefilerecursivepath-buffer">#</a></h2><p>写入文件</p><p><strong>Kind</strong>: global function</p><table><thead><tr><th>Param</th><th>Type</th></tr></thead><tbody><tr><td>path</td><td><code>*</code></td></tr><tr><td>buffer</td><td><code>*</code></td></tr></tbody></table><p><a name="runCommand"></a></p><h2 id="runcommandcommand-args--codepromisevoidcode">runCommand(command, args) ⇒ <code>Promise.&lt;void&gt;</code> <a class="markdownIt-Anchor" href="#runcommandcommand-args--codepromisevoidcode">#</a></h2><p><strong>Kind</strong>: global function<br><strong>Returns</strong>: <code>Promise.&lt;void&gt;</code> - promise</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>command</td><td><code>string</code></td><td>process to run</td></tr><tr><td>args</td><td><code>Array.&lt;string&gt;</code></td><td>commandline arguments</td></tr></tbody></table><p><a name="getFileExportObjInDir"></a></p><h2 id="getfileexportobjindirdirpath-suffix-opts方法本身的配置对象">getFileExportObjInDir(dirPath, suffix, opts：方法本身的配置对象) <a class="markdownIt-Anchor" href="#getfileexportobjindirdirpath-suffix-opts方法本身的配置对象">#</a></h2><p>获取指定目录下所有文件的导出信息</p><p><strong>Kind</strong>: global function</p><table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>dirPath</td><td><code>*</code></td><td></td><td>指定目录 需要绝对路径</td></tr><tr><td>suffix</td><td><code>*</code></td><td><code>js</code></td><td>后缀</td></tr><tr><td>opts：方法本身的配置对象</td><td><code>*</code></td><td></td><td>1. removeRequireCache 是否清除require缓存，在【应用启动过程中会修改源码】的场景下执行 2. needAbsPath 是否挂载文件绝对路径信息再返回 3. globOpts glob的配置对象</td></tr></tbody></table><p><a name="loadPathByName"></a></p><h2 id="loadpathbynamedirpath-names">loadPathByName(dirPath, names) <a class="markdownIt-Anchor" href="#loadpathbynamedirpath-names">#</a></h2><p>加载指定文件夹下指定后缀的文件路径列表 （不给exts参数时则获取所有类型文件）</p><p><strong>Kind</strong>: global function</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>dirPath</td><td><code>*</code></td><td></td></tr><tr><td>names</td><td><code>*</code></td><td>Array 文件名数组 []</td></tr></tbody></table><p><a name="loadFileNameByPath4Ext"></a></p><h2 id="loadfilenamebypath4extdirpath-exts-cb-">loadFileNameByPath4Ext(dirPath, exts, cb) ⇒ <a class="markdownIt-Anchor" href="#loadfilenamebypath4extdirpath-exts-cb-">#</a></h2><p>加载指定文件夹下指定后缀的文件路径列表 （不给exts参数时则获取所有类型文件）</p><p><strong>Kind</strong>: global function<br><strong>Returns</strong>: [[filePath, dirs = []]] 返回一个二维数组 第一个元素是文件地址；第二个是对应的子目录数组</p><table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>dirPath</td><td><code>*</code></td><td></td></tr><tr><td>exts</td><td><code>*</code></td><td>Array 文件类型数组 [mp4]</td></tr><tr><td>cb</td><td><code>*</code></td><td>Function 可以在存入时对存入对象进行一层拦截处理</td></tr></tbody></table><p><a name="doShellCmd"></a></p><h2 id="doshellcmd-">doShellCmd() ⇒ <a class="markdownIt-Anchor" href="#doshellcmd-">#</a></h2><p>对exec进行一个简单的封装，返回的是一个Promise对象，便于处理。</p><p><strong>Kind</strong>: global function<br><strong>Returns</strong>: Promise<br><a name="getPlatForm"></a></p><h2 id="getplatform-">getPlatForm() ⇒ <a class="markdownIt-Anchor" href="#getplatform-">#</a></h2><p>获取当前操作系统</p><p><strong>Kind</strong>: global function<br><strong>Returns</strong>: obj<br><a name="getPackageManageByCommand"></a></p><h2 id="getpackagemanagebycommandcommand">getPackageManageByCommand(command) <a class="markdownIt-Anchor" href="#getpackagemanagebycommandcommand">#</a></h2><p>根据命令获取对应的包管理器</p><p><strong>Kind</strong>: global function</p><table><thead><tr><th>Param</th><th>Type</th></tr></thead><tbody><tr><td>command</td><td><code>*</code></td></tr></tbody></table></div><div dir="ltr" class="level article-bar is-mobile"><div class="level-item has-text-centered"><a title="previous page" class="previouse-article-link" href="index.html"><span class="icon icon-previous" data-icon="previous"></span><span class="link-content">&laquo; Previous</span></a></div><div class="level-item has-text-centered"><a title="font size" class="link-item link-item-size"><span class="icon icon-size" data-icon="size"></span></a></div><div class="level-item has-text-centered"><a title="table of content" class="link-item link-item-toc"><span class="icon icon-toc" data-icon="toc"></span></a></div><div class="level-item has-text-centered"><a title="top" href="#"><span class="icon icon-up" data-icon="up"></span> <span class="link-content">⤊ Top</span></a></div><div class="level-item has-text-centered"><a title="next page" class="next-article-link" href="vscode-api.html"><span class="icon icon-next" data-icon="next"></span><span class="link-content">Next &raquo;</span></a></div></div></div><div class="column is-2-widescreen is-hidden"></div></div><div class="columns foot"><div class="column is-3 is-offset-9 build-by">Build by <a href="https://github.com/ruanyf/loppo" target="_blank">Loppo</a> 0.6.24</div></div><div class="book-toc notification is-warning is-hidden"><h3>Table of chapters &nbsp;<span class="title-close"><a class="button is-danger"> Close</a></span></h3><ul class="chapter-area"><li class="chapter-item chapter-item-current"><a href="node-api.html">node-api.md</a></li><li class="chapter-item"><a href="vscode-api.html">vscode-api.md</a></li></ul></div><div class="progress-indicator"></div><!-- SCRIPTS --><script>var LOPPO={current_path:"node-api.md",relative_root_path:"",article_toc:'<ul class="markdownIt-TOC">\n<li><a href="#fileisexistfilepath-">fileIsExist(filePath) ⇒</a></li>\n<li><a href="#writefilerecursivepath-buffer">writeFileRecursive(path, buffer)</a></li>\n<li><a href="#runcommandcommand-args--codepromisevoidcode">runCommand(command, args) ⇒ <code>Promise.&lt;void&gt;</code></a></li>\n<li><a href="#getfileexportobjindirdirpath-suffix-opts%E6%96%B9%E6%B3%95%E6%9C%AC%E8%BA%AB%E7%9A%84%E9%85%8D%E7%BD%AE%E5%AF%B9%E8%B1%A1">getFileExportObjInDir(dirPath, suffix, opts：方法本身的配置对象)</a></li>\n<li><a href="#loadpathbynamedirpath-names">loadPathByName(dirPath, names)</a></li>\n<li><a href="#loadfilenamebypath4extdirpath-exts-cb-">loadFileNameByPath4Ext(dirPath, exts, cb) ⇒</a></li>\n<li><a href="#doshellcmd-">doShellCmd() ⇒</a></li>\n<li><a href="#getplatform-">getPlatForm() ⇒</a></li>\n<li><a href="#getpackagemanagebycommandcommand">getPackageManageByCommand(command)</a></li>\n</ul>\n'}</script><script src="assets/js/app.js"></script></body></html>