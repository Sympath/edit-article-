<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: index.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: index.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// import URI from "urijs";
// const URI = require("urijs");
let utils = {};

/**
 * 为 url 做字符串拼接，覆盖重复的query
 * @param {String} url
 * @param {Object} query
 */
// utils.assignQuery = (url = "", query = {}) => {
//   let uri = new URI(url);
//   Object.keys(query).forEach((key) => {
//     if (uri.hasQuery(key)) uri.removeQuery(key);
//   });
//   return uri.addQuery(query).toString();
// };

/**
 * 类型判断函数 传递一个要判断的类型 会返回一个函数 传要判断的值 返回是否属于之前的类型
 * @param {*} type 是否是此类型
 * @returns
 */
function typeCheck(type) {
  let types = [
    "Array",
    "Object",
    "Number",
    "String",
    "Undefined",
    "Boolean",
    "Function",
    "Map",
    "Null",
  ];
  let map = {};
  types.forEach((type) => {
    map[type] = function (target) {
      return Object.prototype.toString.call(target) === `[object ${type}]`;
    };
  });
  return map[type];
}
/**
 * 遍历对象 直接获取key value  （不会遍历原型链  forin会）
 * @param {*} obj 被遍历对象
 * @param {*} cb 回调
 */
function eachObj(obj, cb) {
  if (typeCheck("Map")(obj)) {
    for (let [key, value] of obj) {
      cb(key, value);
    }
  } else if (typeCheck("Object")(obj)) {
    for (const [key, value] of Object.entries(obj)) {
      cb(key, value);
    }
  } else {
    console.log("请传递对象类型");
  }
};
/** 判断变量是否为函数，是则执行
 * 
 * @param {*} cb 
 * @param  {...any} params 
 * @returns 
 */
const callFn = function (cb, ...params) {
  let result = {
    done: false,
    result: null
  }
  if (typeCheck('Function')(cb)) {
    result.result = cb(...params)
    result.done = true
  }
  return result
}
module.exports = {
  typeCheck,
  eachObj,
  callFn
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="VscodeApi.html">VscodeApi</a></li></ul><h3>Global</h3><ul><li><a href="global.html#callFn">callFn</a></li><li><a href="global.html#doShellCmd">doShellCmd</a></li><li><a href="global.html#eachObj">eachObj</a></li><li><a href="global.html#fileIsExist">fileIsExist</a></li><li><a href="global.html#getFileExportObjInDir">getFileExportObjInDir</a></li><li><a href="global.html#getPackageManageByCommand">getPackageManageByCommand</a></li><li><a href="global.html#getPlatForm">getPlatForm</a></li><li><a href="global.html#loadFileNameByPath4Ext">loadFileNameByPath4Ext</a></li><li><a href="global.html#loadPathByName">loadPathByName</a></li><li><a href="global.html#runCommand">runCommand</a></li><li><a href="global.html#typeCheck">typeCheck</a></li><li><a href="global.html#writeFileRecursive">writeFileRecursive</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.11</a> on Sun Oct 09 2022 18:27:19 GMT+0800 (中国标准时间)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
